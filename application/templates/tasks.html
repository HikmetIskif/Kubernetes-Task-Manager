{% extends 'base.html' %}

{% block content %}
<h2>My Tasks</h2>
<form method="post" action="{{ url_for('tasks') }}">
    <div class="mb-3">
        <label for="task_name" class="form-label">Task Name</label>
        <input type="text" class="form-control" id="task_name" name="task_name" maxlength="100" required>
    </div>
    <div class="mb-3">
        <label for="task_description" class="form-label">Task Description</label>
        <input type="text" class="form-control" id="task_description" name="task_description" maxlength="100" required>
    </div>
    <div class="mb-3">
        <label for="task_date" class="form-label">Task Date</label>
        <input type="date" class="form-control" id="task_date" name="task_date" required>
    </div>
    <button type="submit" class="btn btn-success">Add Task</button>
</form>

<ul class="list-group mt-4">
    {% for task in tasks %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
            <strong>{{ task.task_name }}</strong>
            <p>{{ task.task_description }}</p>
            <small>{{ task.task_date }}</small>
        </div>
        <div>
            <a href="{{ url_for('edit_task', task_id=task.id) }}" class="btn btn-warning btn-sm">Edit</a>
            <a href="{{ url_for('delete_task', task_id=task.id) }}" class="btn btn-danger btn-sm">Delete</a>
        </div>
    </li>
    {% endfor %}
</ul>
{% endblock %}
